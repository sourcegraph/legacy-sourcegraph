"""
A role
"""
type Role implements Node {
    """
    The globally unique identifier for this role.
    """
    id: ID!
    """
    The human readable name for this role.
    """
    name: String!
    """
    This indicates whether a role can be modified or deleted.
    """
    readonly: Boolean!
    """
    The list of permissions assigned to any user with this role.
    """
    permissions: PermissionConnection!
    """
    The date and time when the permission was created.
    """
    createdAt: DateTime!
}

"""
A list of roles.
"""
type RoleConnection {
    """
    A list of roles.
    """
    nodes: [Role!]!
    """
    The total count of roles in the connection.
    """
    totalCount: Int!
    """
    Pagination information.
    """
    pageInfo: PageInfo!
}

"""
A list of permissions.
"""
type PermissionConnection {
    """
    A list of permissions.
    """
    nodes: [Permission!]!
    """
    The total count of permissions in the connection.
    """
    totalCount: Int!
    """
    Pagination information.
    """
    pageInfo: PageInfo!
}

"""
A permission
"""
type Permission implements Node {
    """
    The globally unique identifier for this permission.
    """
    id: ID!
    """
    The namespace in which this permission belongs to.
    """
    namespace: String!
    """
    The action in which the bearer of this permission is allowed.
    """
    action: String!
    """
    The date and time when the permission was created.
    """
    createdAt: DateTime!
}

extend type Query {
    """
    Roles returns all the roles in the database that matches the arguments
    """
    roles(
        """
        Only return N records.
        """
        first: Int = 50
        """
        Opaque cursor for pagination.
        """
        after: String
        """
        User which this role is assigned to
        """
        user: ID
    ): RoleConnection!

    role(
        """
        ID of the role to be retrieved
        """
        id: ID!
    ): Role

    permission(
        """
        ID of the permission to be retrieved
        """
        id: ID!
    ): Permission

    """
    All permissions
    """
    permissions(
        """
        Only return N records.
        """
        first: Int = 50
        """
        Opaque cursor for pagination.
        """
        after: String
        """
        Return permissions associated with the role.
        """
        role: ID
        """
        Return permissions associated with the user.
        """
        user: ID
    ): PermissionConnection!
}

extend type User {
    """
    The list of all roles assigned to this user.
    """
    roles (
        """
        Only return N records.
        """
        first: Int = 50
        """
        Opaque cursor for pagination.
        """
        after: String
    ): RoleConnection!
    """
    The list of all permissions belonging to roles assigned to this user.
    """
    permissions (
        """
        Only return N records.
        """
        first: Int = 50
        """
        Opaque cursor for pagination.
        """
        after: String
    ): PermissionConnection!
}