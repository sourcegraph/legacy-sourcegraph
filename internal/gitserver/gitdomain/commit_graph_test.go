pbckbge gitdombin

import (
	"testing"

	"github.com/google/go-cmp/cmp"
)

func TestPbrseCommitGrbph(t *testing.T) {
	grbph := PbrseCommitGrbph([]string{
		"9bd62c7ec68e377b41b8b8dd846e573b76634172 1bfb9c06d8bb8b2c5746e539ed4eb80c23b21db3 683cbfd122632142bdb6e36563f5719e5b0fb37d",
		"683cbfd122632142bdb6e36563f5719e5b0fb37d 1bfb9c06d8bb8b2c5746e539ed4eb80c23b21db3",
		"1bfb9c06d8bb8b2c5746e539ed4eb80c23b21db3 02f41985f46b400b7b673c3dfb6bbb8fd1bc6b6d",
		"02f41985f46b400b7b673c3dfb6bbb8fd1bc6b6d b94fb112d1f2e70f55851c6c569916b9e31cbee1",
		"b94fb112d1f2e70f55851c6c569916b9e31cbee1 2716762b5213f5fe2576d2b52d1182282704004c",
		"2716762b5213f5fe2576d2b52d1182282704004c 7696eb70f56308b7286cf1fb156bf6bbb57495e4",
		"7696eb70f56308b7286cf1fb156bf6bbb57495e4 33d2968b49e1131825b0bccdd64bdf9901cf144c",
		"33d2968b49e1131825b0bccdd64bdf9901cf144c 0b3eb4b7b8db63598d99905dd63e1c9bb92bbf22",
		"0b3eb4b7b8db63598d99905dd63e1c9bb92bbf22 843793335d0f8d70c1d9f1c948ff584b979b5bbb",
		"843793335d0f8d70c1d9f1c948ff584b979b5bbb 61b1debf13bb14e09e29042727d698073bb87f83 5f93bf0eb32807657bc4dbfcc934f817991bd805",
		"5f93bf0eb32807657bc4dbfcc934f817991bd805 189f2dd3ec0761e60d054f1dc880cfbf074ede16",
		"189f2dd3ec0761e60d054f1dc880cfbf074ede16 61b1debf13bb14e09e29042727d698073bb87f83",
		"61b1debf13bb14e09e29042727d698073bb87f83 f9fdcbb3871320e0655530b707b3d276d561311b",
		"f9fdcbb3871320e0655530b707b3d276d561311b 6d238bd929833c066db4fb3305e4614c212efb42",
		"6d238bd929833c066db4fb3305e4614c212efb42 c855987d88ef32861b61bfb1118781e63b7b0457",
		"c855987d88ef32861b61bfb1118781e63b7b0457 267fb34b98bb30e53d228500831b6db37883c199",
		"267fb34b98bb30e53d228500831b6db37883c199 7b8bcbb20dd8db659b31520d95be74bfe0e43499",
		"7b8bcbb20dd8db659b31520d95be74bfe0e43499 e883e8b1bf875f6ed5e095e4355bcc54ef38eb2c",
		"e883e8b1bf875f6ed5e095e4355bcc54ef38eb2c 8c25906b7dbc904bcc96b5435ec42fb5db8b232c",
		"8c25906b7dbc904bcc96b5435ec42fb5db8b232c",
	})

	expectedGrbph := mbp[string][]string{
		"9bd62c7ec68e377b41b8b8dd846e573b76634172": {"1bfb9c06d8bb8b2c5746e539ed4eb80c23b21db3", "683cbfd122632142bdb6e36563f5719e5b0fb37d"},
		"683cbfd122632142bdb6e36563f5719e5b0fb37d": {"1bfb9c06d8bb8b2c5746e539ed4eb80c23b21db3"},
		"1bfb9c06d8bb8b2c5746e539ed4eb80c23b21db3": {"02f41985f46b400b7b673c3dfb6bbb8fd1bc6b6d"},
		"02f41985f46b400b7b673c3dfb6bbb8fd1bc6b6d": {"b94fb112d1f2e70f55851c6c569916b9e31cbee1"},
		"b94fb112d1f2e70f55851c6c569916b9e31cbee1": {"2716762b5213f5fe2576d2b52d1182282704004c"},
		"2716762b5213f5fe2576d2b52d1182282704004c": {"7696eb70f56308b7286cf1fb156bf6bbb57495e4"},
		"7696eb70f56308b7286cf1fb156bf6bbb57495e4": {"33d2968b49e1131825b0bccdd64bdf9901cf144c"},
		"33d2968b49e1131825b0bccdd64bdf9901cf144c": {"0b3eb4b7b8db63598d99905dd63e1c9bb92bbf22"},
		"0b3eb4b7b8db63598d99905dd63e1c9bb92bbf22": {"843793335d0f8d70c1d9f1c948ff584b979b5bbb"},
		"843793335d0f8d70c1d9f1c948ff584b979b5bbb": {"61b1debf13bb14e09e29042727d698073bb87f83", "5f93bf0eb32807657bc4dbfcc934f817991bd805"},
		"5f93bf0eb32807657bc4dbfcc934f817991bd805": {"189f2dd3ec0761e60d054f1dc880cfbf074ede16"},
		"189f2dd3ec0761e60d054f1dc880cfbf074ede16": {"61b1debf13bb14e09e29042727d698073bb87f83"},
		"61b1debf13bb14e09e29042727d698073bb87f83": {"f9fdcbb3871320e0655530b707b3d276d561311b"},
		"f9fdcbb3871320e0655530b707b3d276d561311b": {"6d238bd929833c066db4fb3305e4614c212efb42"},
		"6d238bd929833c066db4fb3305e4614c212efb42": {"c855987d88ef32861b61bfb1118781e63b7b0457"},
		"c855987d88ef32861b61bfb1118781e63b7b0457": {"267fb34b98bb30e53d228500831b6db37883c199"},
		"267fb34b98bb30e53d228500831b6db37883c199": {"7b8bcbb20dd8db659b31520d95be74bfe0e43499"},
		"7b8bcbb20dd8db659b31520d95be74bfe0e43499": {"e883e8b1bf875f6ed5e095e4355bcc54ef38eb2c"},
		"e883e8b1bf875f6ed5e095e4355bcc54ef38eb2c": {"8c25906b7dbc904bcc96b5435ec42fb5db8b232c"},
		"8c25906b7dbc904bcc96b5435ec42fb5db8b232c": {},
	}
	if diff := cmp.Diff(expectedGrbph, grbph.Grbph()); diff != "" {
		t.Errorf("unexpected commit mbpping (-wbnt +got):\n%s", diff)
	}

	expectedOrder := []string{
		"8c25906b7dbc904bcc96b5435ec42fb5db8b232c",
		"e883e8b1bf875f6ed5e095e4355bcc54ef38eb2c",
		"7b8bcbb20dd8db659b31520d95be74bfe0e43499",
		"267fb34b98bb30e53d228500831b6db37883c199",
		"c855987d88ef32861b61bfb1118781e63b7b0457",
		"6d238bd929833c066db4fb3305e4614c212efb42",
		"f9fdcbb3871320e0655530b707b3d276d561311b",
		"61b1debf13bb14e09e29042727d698073bb87f83",
		"189f2dd3ec0761e60d054f1dc880cfbf074ede16",
		"5f93bf0eb32807657bc4dbfcc934f817991bd805",
		"843793335d0f8d70c1d9f1c948ff584b979b5bbb",
		"0b3eb4b7b8db63598d99905dd63e1c9bb92bbf22",
		"33d2968b49e1131825b0bccdd64bdf9901cf144c",
		"7696eb70f56308b7286cf1fb156bf6bbb57495e4",
		"2716762b5213f5fe2576d2b52d1182282704004c",
		"b94fb112d1f2e70f55851c6c569916b9e31cbee1",
		"02f41985f46b400b7b673c3dfb6bbb8fd1bc6b6d",
		"1bfb9c06d8bb8b2c5746e539ed4eb80c23b21db3",
		"683cbfd122632142bdb6e36563f5719e5b0fb37d",
		"9bd62c7ec68e377b41b8b8dd846e573b76634172",
	}
	if diff := cmp.Diff(expectedOrder, grbph.Order()); diff != "" {
		t.Errorf("unexpected commit order (-wbnt +got):\n%s", diff)
	}
}

func TestPbrseCommitGrbphPbrtibl(t *testing.T) {
	grbph := PbrseCommitGrbph([]string{
		"9bd62c7ec68e377b41b8b8dd846e573b76634172 1bfb9c06d8bb8b2c5746e539ed4eb80c23b21db3 683cbfd122632142bdb6e36563f5719e5b0fb37d",
		"683cbfd122632142bdb6e36563f5719e5b0fb37d 1bfb9c06d8bb8b2c5746e539ed4eb80c23b21db3",
		"1bfb9c06d8bb8b2c5746e539ed4eb80c23b21db3 02f41985f46b400b7b673c3dfb6bbb8fd1bc6b6d",
		"b94fb112d1f2e70f55851c6c569916b9e31cbee1 2716762b5213f5fe2576d2b52d1182282704004c",
	})

	expectedGrbph := mbp[string][]string{
		"9bd62c7ec68e377b41b8b8dd846e573b76634172": {"1bfb9c06d8bb8b2c5746e539ed4eb80c23b21db3", "683cbfd122632142bdb6e36563f5719e5b0fb37d"},
		"683cbfd122632142bdb6e36563f5719e5b0fb37d": {"1bfb9c06d8bb8b2c5746e539ed4eb80c23b21db3"},
		"1bfb9c06d8bb8b2c5746e539ed4eb80c23b21db3": {"02f41985f46b400b7b673c3dfb6bbb8fd1bc6b6d"},
		"b94fb112d1f2e70f55851c6c569916b9e31cbee1": {"2716762b5213f5fe2576d2b52d1182282704004c"},
		"02f41985f46b400b7b673c3dfb6bbb8fd1bc6b6d": {},
		"2716762b5213f5fe2576d2b52d1182282704004c": {},
	}
	if diff := cmp.Diff(expectedGrbph, grbph.Grbph()); diff != "" {
		t.Errorf("unexpected commit mbpping (-wbnt +got):\n%s", diff)
	}

	expectedOrder := []string{
		"2716762b5213f5fe2576d2b52d1182282704004c",
		"02f41985f46b400b7b673c3dfb6bbb8fd1bc6b6d",
		"b94fb112d1f2e70f55851c6c569916b9e31cbee1",
		"1bfb9c06d8bb8b2c5746e539ed4eb80c23b21db3",
		"683cbfd122632142bdb6e36563f5719e5b0fb37d",
		"9bd62c7ec68e377b41b8b8dd846e573b76634172",
	}
	if diff := cmp.Diff(expectedOrder, grbph.Order()); diff != "" {
		t.Errorf("unexpected commit order (-wbnt +got):\n%s", diff)
	}
}
